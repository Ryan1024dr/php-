# php-
遇到啥就记录啥，有点乱 都是零碎的知识点
##字符串

1. 定义字符串三种方法 单引号 双引号 heredoc语法结构

    heredoc语法结构定义字符串
    
        $hello = <<<TAG
         hello world
         <<<TAG;
2. php中三个函数去掉字符串首位的空格

trim去除一个字符串两端的空格

rtrim去除一个字符串右部的空格

ltrim去除一个字符串左部的空格

3. 字符串函数获取中文字段的长度(在计算英文时算空格 空格占一个长度)

       mb_strlen($str,"utf-8");
4. 字符串格式转化函数 sprintf（）

    $str = '99.9';、
     
        $result = sprintf('%01.2f', $str);
        echo $result;//结果显示99.90
解释下，上面例子中的格式

这个 %01.2f 是什么意思呢？

- 这个 % 符号是开始的意思，写在最前面表示指定格式开始了。 也就是 "起始字符", 直到出现 "转换字符" 为止，就算格式终止。

- 跟在 % 符号后面的是 0， 是 "填空字元" ，表示如果位置空着就用0来填满。

- 在 0 后面的是1，这个 1 是规定整个所有的字符串占位要有1位以上(小数点也算一个占位)。

   如果把 1 改成 6，则 $result的值将为 099.90
   
   因为，在小数点后面必须是两位，99.90一共5个占位，现在需要6个占位，所以用0来填满。

- 在 %01 后面的 .2 （点2） 就很好理解了，它的意思是，小数点后的数字必须占2位。 如果这时候，$str 的值为9.234,则 $result的值将为9.23.
    为什么4 不见了呢？ 因为在小数点后面，按照上面的规定，必须且仅能占2位。 可是 $str 的值中，小数点后面占了3位，所以，尾数4被去掉了，只剩下 23。
- 最后，以 f "转换字符" 结尾。（摘自慕课）

6. php 字符串 合并函数implode  将一个字符串数组合并为一个字符串，explode将一个字符串用特定符号分割成一个字符串数组

7. 正则表达式中常用的模式修正符有i、g、m、s、x、e等。它们之间可以组合搭配使用'//i'。
它们的作用如下：

//修正符:i 不区分大小写的匹配;

//修正符：g表示全局匹配

//修正符:m 将字符串视为多行,不管是那行都能匹配;

//修正符:s 将字符串视为单行,换行符作为普通字符;

//修正符:x 将模式中的空白忽略;

//修正符:A 强制从目标字符串开头匹配;

//修正符:D 如果使用$限制结尾字符,则不允许结尾有换行;

//修正符:U 只匹配最近的一个字符串;不重复匹配;

//修正符:e 配合函数preg_replace()使用,可以把匹配来的字符串当作正则表达式执行;
正则表达式中具有特殊含义的字符称之为元字符，常用的元字符有：

\ 一般用于转义字符

^ 断言目标的开始位置(或在多行模式下是行首)

$ 断言目标的结束位置(或在多行模式下是行尾)

. 匹配除换行符外的任何字符(默认)

[ 开始字符类定义

] 结束字符类定义

| 开始一个可选分支

( 子组的开始标记

) 子组的结束标记

? 作为量词，表示 0 次或 1 次匹配。位于量词后面用于改变量词的贪婪特性。 (查阅量词)

*量词，0 次或多次匹配

+量词，1 次或多次匹配

{ 自定义量词开始标记
} 自定义量词结束标记

8. 关于match数组的说明：

文档上的解释为：如果提供了参数 matches ，它将被填充为搜索结果。 $matches[0] 将包含完整模式匹配到的文本， $matches[1] 将包含第一个捕获子组匹配到的文本，以此类推。

文档上对于子组的说明为：子组通过圆括号分隔界定，并且它们可以嵌套。

如果正则表达式写为$p = '/\w+\s\w+/';，则没有子组，$matches[1]为空，而$matches[0]包含所匹配的文本；

但是将表达式加上括号写为$p = '/(\w+\s\w+)/';，则有了子组，此时$matches[1]与$matches[0]相同。

9. (.*?)a  到a位置表示匹配之前任意字符 

10. 正则相关

        $patterns = array ('/(19|20)(\d{2})-(\d{1,2})-(\d{1,2})/',
                   '/^\s*{(\w+)}\s*=/');
        $replace = array ('\3/\4/\1\2', '$\1 =');
        //\3等效于$3,\4等效于$4，依次类推
        echo preg_replace($patterns, $replace, '{startDate} = 1999-5-27');
        //结果为：$startDate = 5/27/1999
        //详细解释下结果：(19|20)表示取19或者20中任意一个数字，(\d{2})表示两个数字，
        (\d{1,2})表示1个或2个数字，(\d{1,2})表示1个或2个数字。
        ^\s*{(\w+)\s*=}表示以任意空格开头的，并且包含在{}中的字符，并且以任意空格结尾的，最后有个=号的。
        
11. 一段代码

        <?php
        $str = '主要有以下几个文件：index.php, style.css, common.js';
        //将目标字符串$str中的文件名替换后增加em标签

        $s = '/\w+.\w+/i';

        $str = preg_replace($s,'<em>$0</em>',$str);
        echo $str;
        
 11.又一段代码
 
        ob_start();//打开输出控制缓冲
        print_r($_COOKIE); 
        $content = ob_get_contents();//复制缓冲区内容到$content中
        $content = str_replace(" ", '&nbsp;', $content);
        ob_clean();//清空（擦掉）输出缓冲区
        header("content-type:text/html; charset=utf-8");
        echo '当前的Cookie为：<br/>';
        echo nl2br($content);//nl2br 在字符串所有新行之前插入 HTML 换行标记
